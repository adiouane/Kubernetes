global:
  hosts:
    domain: gitlab.local
    https: false
    externalIP: 192.168.56.110
  initialRootPassword: "gitlabadmin"
  kubernetes:
    enabled: true
    inCluster: true
  email: admin@gitlab.local
  certmanager-issuer:
    email: admin@gitlab.local

# Disable cert-manager completely
certmanager:
  install: false
  installCRDs: false

certmanager-issuer:
  email: admin@gitlab.local

# Disable NGINX ingress as we're using Traefik
nginx-ingress:
  enabled: false

gitlab-runner:
  install: true
  runners:
    config: |
      [[runners]]
        [runners.kubernetes]
        image = "ubuntu:20.04"

# Storage configurations
postgresql:
  persistence:
    size: 2Gi
    storageClass: local-path

redis:
  persistence:
    size: 2Gi
    storageClass: local-path

minio:
  persistence:
    size: 5Gi
    storageClass: local-path

# Component scaling
gitlab:
  webservice:
    minReplicas: 1
    maxReplicas: 1
    ingress:
      enabled: true #//!emain error
      tls:
        enabled: false #//!emain error
    resources:
      requests:
        cpu: 200m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
  sidekiq:
    minReplicas: 1
    maxReplicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 800Mi
      limits:
        cpu: 800m
        memory: 1.5Gi
  gitlab-shell:
    minReplicas: 1
    maxReplicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 200Mi
      limits:
        cpu: 300m
        memory: 400Mi

# Disable SSL/TLS for development //!emain error
gitlab:
  webservice:
    ingress:
      tls:
        enabled: false
  gitlab-shell:
    minReplicas: 1
    maxReplicas: 1
    service:
      type: ClusterIP
      externalTrafficPolicy: Cluster

# Registry configuration
registry:
  enabled: true
  tls:
    enabled: false